# ğŸ“š AI å°è¯´åˆ›ä½œåŠ©æ‰‹

> åŸºäº AI çš„æ™ºèƒ½å°è¯´åˆ›ä½œå¹³å°ï¼Œæ”¯æŒé¡¹ç›®ç®¡ç†ã€å¤§çº²ç”Ÿæˆã€æ™ºèƒ½ç»­å†™ã€è§’è‰²è¿½è¸ªç­‰å…¨æµç¨‹åˆ›ä½œåŠŸèƒ½

[![Build Docker Image](https://github.com/player4sir/novel-helper/actions/workflows/docker-build.yml/badge.svg)](https://github.com/player4sir/novel-helper/actions/workflows/docker-build.yml)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ æ™ºèƒ½é¡¹ç›®ç®¡ç†
- **AI ç”Ÿæˆé¡¹ç›®å…ƒæ•°æ®**ï¼šè‡ªåŠ¨ç”Ÿæˆå°è¯´æ ‡é¢˜ã€ç®€ä»‹ã€é£æ ¼å®šä½
- **å¤šå€™é€‰è¯„åˆ†ç³»ç»Ÿ**ï¼šç”Ÿæˆå¤šä¸ªå€™é€‰æ–¹æ¡ˆï¼Œæ™ºèƒ½è¯„åˆ†é€‰æ‹©æœ€ä½³
- **å®Œæ•´é¡¹ç›®ç»“æ„**ï¼šæ”¯æŒå·-ç« èŠ‚ä¸‰çº§ç»“æ„ç®¡ç†

### ğŸ“ AI è¾…åŠ©åˆ›ä½œ
- **æ™ºèƒ½å¤§çº²ç”Ÿæˆ**ï¼š
  - è‡ªåŠ¨ç”Ÿæˆå·çº²ï¼ˆ3-5 ä¸ªå·ï¼‰
  - è‡ªåŠ¨ç”Ÿæˆç« çº²ï¼ˆ10-15 ç« /å·ï¼‰
  - åŸºäºä¸»é¢˜è¦†ç›–åº¦å’ŒèŠ‚å¥æ§åˆ¶çš„æ™ºèƒ½è¯„åˆ†
- **åœºæ™¯çº§å†…å®¹ç”Ÿæˆ**ï¼š
  - è‡ªåŠ¨åˆ†è§£ç« èŠ‚ä¸ºå¤šä¸ªåœºæ™¯
  - å¢é‡å¼è‰ç¨¿ç”Ÿæˆ
  - å®æ—¶è§„åˆ™æ£€æŸ¥ï¼ˆå­—æ•°ã€å¯¹è¯æ¯”ä¾‹ã€å…ƒè¯„è®ºæ£€æµ‹ï¼‰
- **æ™ºèƒ½ç»­å†™ä¸æ”¹å†™**ï¼š
  - ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å†…å®¹ç”Ÿæˆ
  - é£æ ¼ä¸€è‡´æ€§ä¿æŒ
  - å¤šç‰ˆæœ¬å¯¹æ¯”

### ğŸ‘¥ è§’è‰²ä¸ä¸–ç•Œè§‚ç®¡ç†
- **è§’è‰²çŠ¶æ€è¿½è¸ª**ï¼š
  - è‡ªåŠ¨è¿½è¸ªè§’è‰²å‡ºåœºä½ç½®
  - æƒ…æ„ŸçŠ¶æ€åˆ†æ
  - è§’è‰²å¼§å…‰ç‚¹è®°å½•
- **ä¸–ç•Œè§‚è®¾å®š**ï¼š
  - æ ¸å¿ƒè§„åˆ™ç®¡ç†
  - å…³é”®è¯æå–
  - è®¾å®šä¸€è‡´æ€§æ£€æŸ¥

### ğŸ¤– å¤šæ¨¡å‹æ”¯æŒ
- **æ”¯æŒçš„ AI æœåŠ¡å•†**ï¼š
  - DeepSeekï¼ˆæ·±åº¦æ±‚ç´¢ï¼‰
  - OpenAIï¼ˆGPT ç³»åˆ—ï¼‰
  - Anthropicï¼ˆClaude ç³»åˆ—ï¼‰
  - æ™ºè°± AIï¼ˆGLM ç³»åˆ—ï¼‰
  - é€šä¹‰åƒé—®ï¼ˆQwen ç³»åˆ—ï¼‰
  - æœˆä¹‹æš—é¢ï¼ˆMoonshotï¼‰
  - ç™¾å·æ™ºèƒ½ï¼ˆBaichuanï¼‰
  - ç¡…åŸºæµåŠ¨ï¼ˆSiliconFlowï¼‰
  - è‡ªå®šä¹‰æœåŠ¡å•†
- **æ™ºèƒ½æ¨¡å‹è·¯ç”±**ï¼šæ ¹æ®ä»»åŠ¡ç±»å‹è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ¨¡å‹
- **å›é€€æœºåˆ¶**ï¼šä¸»æ¨¡å‹å¤±è´¥è‡ªåŠ¨åˆ‡æ¢å¤‡ç”¨æ¨¡å‹

### ğŸ“Š åˆ›ä½œæ•°æ®ç»Ÿè®¡
- å­—æ•°æ›²çº¿è¿½è¸ª
- æ—¥å‡äº§å‡ºåˆ†æ
- API ä½¿ç”¨ç»Ÿè®¡
- ç•ªèŒ„å°è¯´é‡Œç¨‹ç¢‘è¿½è¸ªï¼ˆ5ä¸‡ã€10ä¸‡ã€20ä¸‡å­—èŠ‚ç‚¹ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 20+
- PostgreSQL æ•°æ®åº“ï¼ˆæ¨èä½¿ç”¨ Neonï¼‰
- è‡³å°‘ä¸€ä¸ª AI æ¨¡å‹çš„ API Key

### æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/player4sir/novel-helper.git
cd novel-helper
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**

åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql://user:password@host:5432/database?sslmode=require

# AI æ¨¡å‹ API Keysï¼ˆè‡³å°‘é…ç½®ä¸€ä¸ªï¼‰
DEEPSEEK_API_KEY=your_deepseek_api_key
OPENAI_API_KEY=your_openai_api_key
ANTHROPIC_API_KEY=your_anthropic_api_key
ZHIPU_API_KEY=your_zhipu_api_key
QWEN_API_KEY=your_qwen_api_key
MOONSHOT_API_KEY=your_moonshot_api_key
BAICHUAN_API_KEY=your_baichuan_api_key
SILICONFLOW_API_KEY=your_siliconflow_api_key

# ä¼šè¯å¯†é’¥ï¼ˆç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸²ï¼‰
SESSION_SECRET=your_random_session_secret_here

# æœåŠ¡å™¨ç«¯å£
PORT=5000
```

4. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
npm run db:push
```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

è®¿é—® `http://localhost:5000` å¼€å§‹ä½¿ç”¨ï¼

## ğŸ³ Docker éƒ¨ç½²

### ä½¿ç”¨é¢„æ„å»ºé•œåƒ

```bash
docker pull ghcr.io/player4sir/novel-helper:latest

docker run -d \
  -p 5000:5000 \
  -e DATABASE_URL="your_database_url" \
  -e DEEPSEEK_API_KEY="your_api_key" \
  -e SESSION_SECRET="your_secret" \
  --name novel-helper \
  ghcr.io/player4sir/novel-helper:latest
```

### æœ¬åœ°æ„å»º

```bash
docker build -t novel-helper .
docker run -d -p 5000:5000 --env-file .env novel-helper
```

## â˜ï¸ äº‘ç«¯éƒ¨ç½²

### ClawCloud Runï¼ˆæ¨èï¼‰

1. è®¿é—® [ClawCloud Run Console](https://console.run.claw.cloud/)
2. åˆ›å»ºæ–°åº”ç”¨ â†’ é€‰æ‹© "Deploy from Docker"
3. é…ç½®é•œåƒï¼š`ghcr.io/player4sir/novel-helper:latest`
4. è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå‚è€ƒä¸Šé¢çš„ `.env` é…ç½®ï¼‰
5. é…ç½®èµ„æºï¼š
   - CPU: 0.5 vCPU
   - å†…å­˜: 1GB
   - ç«¯å£: 5000
6. å¯ç”¨å…¬ç½‘è®¿é—®
7. ç‚¹å‡»éƒ¨ç½²

**å…è´¹é¢åº¦**ï¼š
- CPU: 4 vCPU
- å†…å­˜: 8GB
- å­˜å‚¨: 10GB
- ç½‘ç»œ: 10GB

## ğŸ“± ç§»åŠ¨ç«¯æ”¯æŒ

é¡¹ç›®æ”¯æŒé€šè¿‡ Capacitor æ‰“åŒ…ä¸º Android/iOS åº”ç”¨ï¼š

1. éƒ¨ç½²åç«¯åˆ°äº‘ç«¯ï¼ˆè·å¾— API åœ°å€ï¼‰
2. é…ç½®å‰ç«¯ API åœ°å€
3. ä½¿ç”¨ Capacitor æ„å»ºç§»åŠ¨åº”ç”¨

è¯¦è§ [ç§»åŠ¨ç«¯éƒ¨ç½²æ–‡æ¡£](docs/mobile-deployment.md)ï¼ˆå¾…è¡¥å……ï¼‰

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**ï¼šReact 18 + TypeScript
- **æ„å»ºå·¥å…·**ï¼šVite
- **UI ç»„ä»¶**ï¼šRadix UI + Tailwind CSS
- **çŠ¶æ€ç®¡ç†**ï¼šReact Query
- **è·¯ç”±**ï¼šWouter
- **å›¾è¡¨**ï¼šRecharts
- **åŠ¨ç”»**ï¼šFramer Motion

### åç«¯
- **è¿è¡Œæ—¶**ï¼šNode.js 20
- **æ¡†æ¶**ï¼šExpress
- **æ•°æ®åº“**ï¼šPostgreSQL (Neon)
- **ORM**ï¼šDrizzle ORM
- **è®¤è¯**ï¼šPassport.js
- **ä¼šè¯**ï¼šExpress Session

### AI é›†æˆ
- **å¯¹è¯æ¨¡å‹**ï¼šæ”¯æŒå¤šå®¶ AI æœåŠ¡å•†
- **å‘é‡æ¨¡å‹**ï¼šç”¨äºè¯­ä¹‰æœç´¢å’Œç›¸ä¼¼åº¦è®¡ç®—
- **Prompt ç®¡ç†**ï¼šæ¨¡å—åŒ– Prompt æ‰“åŒ…ç³»ç»Ÿ

### æ¡Œé¢ç«¯
- **æ¡†æ¶**ï¼šElectron
- **æ‰“åŒ…**ï¼šElectron Builder

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
novel-helper/
â”œâ”€â”€ client/              # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/  # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/       # é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ lib/         # å·¥å…·å‡½æ•°
â”œâ”€â”€ server/              # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ index.ts         # æœåŠ¡å™¨å…¥å£
â”‚   â”œâ”€â”€ routes.ts        # API è·¯ç”±
â”‚   â”œâ”€â”€ storage.ts       # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ ai-service.ts    # AI æœåŠ¡é›†æˆ
â”‚   â”œâ”€â”€ scene-draft-service.ts           # åœºæ™¯ç”ŸæˆæœåŠ¡
â”‚   â”œâ”€â”€ volume-chapter-generation-service.ts  # å¤§çº²ç”ŸæˆæœåŠ¡
â”‚   â”œâ”€â”€ enhanced-project-creation-service.ts  # é¡¹ç›®åˆ›å»ºæœåŠ¡
â”‚   â””â”€â”€ ...
â”œâ”€â”€ shared/              # å…±äº«ä»£ç 
â”‚   â””â”€â”€ schema.ts        # æ•°æ®åº“ Schema
â”œâ”€â”€ migrations/          # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ electron/            # Electron é…ç½®
â”œâ”€â”€ Dockerfile           # Docker é…ç½®
â””â”€â”€ .github/workflows/   # GitHub Actions
```

## ğŸ”§ æ ¸å¿ƒç®—æ³•

### 1. Prompt Packingï¼ˆæç¤ºè¯æ‰“åŒ…ï¼‰
- æ¨¡å—åŒ–ç®¡ç† Prompt ç»„ä»¶
- ä¼˜å…ˆçº§æ§åˆ¶ï¼ˆmust-have, important, nice-to-haveï¼‰
- Token é¢„ç®—ç®¡ç†
- åŠ¨æ€å†…å®¹æˆªå–

### 2. å¤šå€™é€‰è¯„åˆ†ç³»ç»Ÿ
- å¹¶å‘ç”Ÿæˆå¤šä¸ªå€™é€‰ï¼ˆä¸åŒ temperatureï¼‰
- åŸºäºå‘é‡ç›¸ä¼¼åº¦çš„ä¸»é¢˜è¦†ç›–åº¦è¯„åˆ†
- èŠ‚å¥æ§åˆ¶è¯„åˆ†
- è‡ªåŠ¨é€‰æ‹©æœ€ä½³å€™é€‰

### 3. åœºæ™¯çº§ç”Ÿæˆ
- è‡ªåŠ¨åˆ†è§£ç« èŠ‚ä¸ºåœºæ™¯
- å¢é‡å¼è‰ç¨¿ç”Ÿæˆ
- å®æ—¶è§„åˆ™æ£€æŸ¥ï¼š
  - å­—æ•°æ§åˆ¶ï¼ˆ800-2000 å­—ï¼‰
  - å¯¹è¯æ¯”ä¾‹ï¼ˆ5%-50%ï¼‰
  - å…ƒè¯„è®ºæ£€æµ‹
  - æ®µè½ç»“æ„æ£€æŸ¥

### 4. å®ä½“è¿½è¸ª
- è‡ªåŠ¨æå–è§’è‰²æåŠ
- æ›´æ–°è§’è‰²å‡ºåœºä½ç½®
- ç”Ÿæˆåœºæ™¯æ‘˜è¦
- æƒ…æ„ŸçŠ¶æ€åˆ†æ

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨
- `projects` - å°è¯´é¡¹ç›®
- `volumes` - å·
- `chapters` - ç« èŠ‚
- `scene_frames` - åœºæ™¯æ¡†æ¶
- `draft_chunks` - åœºæ™¯è‰ç¨¿
- `characters` - è§’è‰²è®¾å®š
- `world_settings` - ä¸–ç•Œè§‚è®¾å®š
- `ai_models` - AI æ¨¡å‹é…ç½®
- `generation_history` - ç”Ÿæˆå†å²
- `statistics` - åˆ›ä½œç»Ÿè®¡

è¯¦è§ [æ•°æ®åº“è®¾è®¡æ–‡æ¡£](shared/schema.ts)

## ğŸ›£ï¸ Roadmap

- [x] åŸºç¡€é¡¹ç›®ç®¡ç†
- [x] AI å¤§çº²ç”Ÿæˆ
- [x] åœºæ™¯çº§å†…å®¹ç”Ÿæˆ
- [x] è§’è‰²çŠ¶æ€è¿½è¸ª
- [x] å¤šæ¨¡å‹æ”¯æŒ
- [x] Docker éƒ¨ç½²
- [ ] ç§»åŠ¨ç«¯åº”ç”¨
- [ ] è¯­ä¹‰ç¼“å­˜ä¼˜åŒ–
- [ ] è¿è´¯æ€§æ£€æµ‹
- [ ] ç« èŠ‚æ¶¦è‰²åŠŸèƒ½
- [ ] åä½œåŠŸèƒ½
- [ ] ç‰ˆæœ¬æ§åˆ¶

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢æ‰€æœ‰ AI æœåŠ¡æä¾›å•†
- æ„Ÿè°¢å¼€æºç¤¾åŒºçš„ä¼˜ç§€é¡¹ç›®

---

**Made with â¤ï¸ by Novel Writer Team**
